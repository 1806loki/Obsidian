Batch Testing 

Swagger Link 
https://dev-backflipt-eval.xeninc.us/docs#/batch%20evaluation

Staging URL = http://sentinel-ai-analytics-svc.staging.svc.cluster.local 
 QA URL = http://sentinel-ai-analytics-svc.qa-nyl.svc.cluster.local

#### SQL Metric

```json
{
  "outputGeneration": {
    "endpoints": [
      {
        "url": "http://sentinel-ai-analytics-svc.staging.svc.cluster.local/conversation",
        "body": {
          "question": "",
          "question_id": "123",
          "chat_id": "decomp_12",
          "time_zone": "Asia/Calcutta",
          "__refs": { "question": "" }
        },
        "evals": [
          {
            "name": "SQLQueryEquivalence check",
            "path": ["result", "sql_query"],
            "metrics": ["SQLQueryEquivalence"],
            "sqlTableSchemas": {
              "xfbtransfer_h": "CREATE TABLE xfbtransfer_h xh (\n    `EVENTID` bigint(20) NOT NULL, -- A unique identifier for each transfer event or file exchange or transaction. Unique ID for the event. (generated by Sentinel, not in Heartbeat)\n    `EventTimestamp` varchar(100) DEFAULT NULL, -- Unix epoch time in milliseconds. Timestamp of the current event reported with every state.\n    `EventTime` varchar(12) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, -- In HH:mm:ss format.Timestamp. (generated by Sentinel)\n    `IsAlert` bigint(20) DEFAULT NULL, -- 1 means permanent error or last entry (not in Heartbeat)\n    `DateAck` datetime DEFAULT NULL, -- Date of acknowledgment for the event.\n    `FileSize` bigint(20) DEFAULT NULL, -- Size in bytes of transferred file\n    `FileName` varchar(512) DEFAULT NULL, -- This column refers to the absolute file path including the file name and its extension. The file extension (e.g., .txt, .pdf, .edi) is a critical part of the file name that indicates the file format or type. When searching for specific file types, users should perform a substring search that includes the file extension. For example, to find all EDI files, search for '%.edi'. This approach allows for more precise identification and categorization of file types based on their extensions.\n    `GroupName` varchar(80) DEFAULT NULL, -- refers GroupName or Business Unit of user.\n    `Protocol` varchar(25) DEFAULT NULL, -- File transfer protocol with values HTTP, SFTP, AdHOC, routing.\n    `SessionTag` varchar(255) DEFAULT NULL, -- A new column for session tags.\n    `AgentIPAddr` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, -- IP address of the agent involved in the event.\n    `AgentIPPort` bigint(20) DEFAULT NULL, -- IP port used by the agent during the event.\n    `TransferType` varchar(1) DEFAULT NULL, -- Identifier for the type of transfer. S(Synchronous), A(Asynchronous).\n    `TransmissionDuration` bigint(20) DEFAULT NULL, -- Duration of the transfer in milliseconds. Use to calculate average durations.\n    `State` varchar(20) DEFAULT NULL, -- This column defines the state of the file transfer event. The possible values for this column are: SUBMITTED, FAILED, TO_EXECUTE, RECEIVING, POST_PROC, ARCHIVED, RECEIVED, SENT, AVAILABLE. When the State of the file transfer is 'FAILED' ,'POST_PROC', file transfer is interpreted as failed. When the State of the file transfer is 'AVAILABLE','POST_PROC/ROUTED','SENT','POST_PROC/ARCHIVED', then the file transfer is interpreted as successfull (or) delivered. Other values for the state imply the file transfer is in progress.\n    `UserId` varchar(80) DEFAULT NULL, -- This column indicates the user (or) account.\n    `SenderId` varchar(128) DEFAULT NULL, -- This column indicates the user who initiates the file transfers. This refers to partner.\n    `ReceiverId` varchar(128) DEFAULT NULL, -- This column indicates the user who is the recipient of the file in the file transfer.\n    `FinalReceiverId` varchar(128) DEFAULT NULL, -- This column indicates the user who is the final recipient of the file in the file transfer.\n    `FileID` varchar(255) DEFAULT NULL, -- This column indicates the File ID for the file transfer. Multiple records can have same file id.\n    `BusinessTags` varchar(255) DEFAULT NULL, -- This column indicates Bussiness tag field of the file transfer\n    `DataSensitivity` varchar(255) DEFAULT NULL, -- This column indicates Sensitivity of the file transfer, It can be PII or Non-PII\n    `ClientName` varchar(255) DEFAULT NULL, -- This column indicates Name of the client field of the file transfer\n    `RouteLabel` varchar(255) DEFAULT NULL, -- It denotes the route utilized by the sender for transmitting the file to its intended recipient, thereby documenting the file transfer occurrence.\n    PRIMARY KEY (`EVENTID`),\n    `CycleId` varchar(250) NOT NULL, -- This column Used to relate events about the same transfer\n    `CoreId` varchar(100) DEFAULT NULL, -- It is an unique identifier which remains consistent across a file transfers, facilitating the tracking of a file's journey or path. It remains unchanged, even if the file's name is altered.\n)"
            }
          }
        ]
      },
      {
        "url": "http://sentinel-ai-analytics-svc.staging.svc.cluster.local/chart_recommendation",
        "body": {
          "__refs": {
            "query": ["response", 0, "result", "sql_query"],
            "chartData": ["response", 0, "result", "data", 0],
            "question": "what is the trend in population growth of India over the past decade?",
            "question_id": "123"
          }
        },
        "evals": [
          {
            "name": "Recommended chart type validator",
            "path": [],
            "metrics": ["GEval"],
            "criteria": "The evaluation process should begin by identifying the chart type in both the expected and actual outputs, ensuring that they match. Then, the data points in both outputs should be identified and compared to confirm they are consistent.If there is any variation in case, it should be ignored, as the meaning remains consistent. Any keys other than the 'chart type' and 'data_points' should be explicitly excluded from the evaluation process to avoid influencing the results. Finally, the chart types and data points must be confirmed to align with the criteria, ensuring that no other keys are considered in the evaluation",
            "evaluationParams": ["actual_output", "expected_output"]
          }
        ]
      }
    ],
    "authentication": {
      "sid": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMywiZW1haWxfaWQiOiJhbm9vcGNoYW5kcmFAYmFja2ZsaXB0LmNvbSJ9.1g-MxodeSa_A7evY3TMrmgJh9J4YxxMTYvBdYt1fBoUW5Y_X7943w7t9h5md9dOpOAERkPgMh0zl6Z7217AGoQ"
    },
    "generateVariantQuestions": true,
    "endpointCallsCountForConsistencyEval": 10,
    "variantQuestionsCount": 0
  }
}
```


### Tool Accuracy 
```
{
  "outputGeneration": {
    "endpoints": [
      {
        "url": "http://sentinel-ai-analytics-svc.staging.svc.cluster.local/conversation",
        "body": {
          "question": "",
          "question_id": "123",
          "chat_id": "decomp_12",
          "time_zone": "Asia/Calcutta",
          "__refs": {
            "question": ""
          }
        },
        "evals": [
          {
            "name": "Tool Call Accuracy check",
            "path": [],
            "metrics": [
              "ToolCallAccuracy"
            ]
          }
        ]
      }
    ],
    "authentication": {
      "sid": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMywiZW1haWxfaWQiOiJhbm9vcGNoYW5kcmFAYmFja2ZsaXB0LmNvbSJ9.1g-MxodeSa_A7evY3TMrmgJh9J4YxxMTYvBdYt1fBoUW5Y_X7943w7t9h5md9dOpOAERkPgMh0zl6Z7217AGoQ"
    },
    "generateVariantQuestions": true,
    "endpointCallsCountForConsistencyEval": 10,
    "variantQuestionsCount": 0
  }
}
```