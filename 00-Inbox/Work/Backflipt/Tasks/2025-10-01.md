#FileView/PCAgent
### PC Agent 

Provision Center Agent is responsible for the queries regarding the partners and request routes 
##### Roles
Business Users
Admin Users  —> IT Admin/Super Admin

BUSINESS UNIT 1
- Partner BU1
	 - ACCOUNTS
	 - Routes
	 - Sites
	 - Subscriptions
	 
BUSINESS UNIT 2
- Partner BU2
	 - ACCOUNTS
	 - Routes
	 - Sites
	 - Subscriptions
	 

Supported Questions 
1.  how many business units are there? 
2.  how many partners are there? (this will partners across all business units)  
3. how many partner accounts are there?   
4.  how many partners connect to NYL?  
5.  how many partners does NYL connect to?  
6.  how many accounts does partner Amazon have?  
7.  how many routes does partner Amazon have?
8.  The total number of existing partners and their key details.
9. Route information for each partner — including setup dates and any subsequent changes.

#### Confluence Page 

Data Models : https://backflipt1.atlassian.net/wiki/x/AYADQ
SFR requirements : [https://backflipt1.atlassian.net/wiki/x/RgBDPg](https://backflipt1.atlassian.net/wiki/x/RgBDPg "https://backflipt1.atlassian.net/wiki/x/rgbdpg")

##### DocumentDB Details 

connection URI : `mongodb+srv://bb-staging-user:bbstaginguser2244@bb-non-prod.i8ab8.mongodb.net/?retryWrites=true&w=majority&authMechanism=DEFAULT`

partners collection name: `ad_d64d33d93ee8b2e04cc3c2dc2`

Routing requests collection name: `ad_d64e34c46ee8b2e04cc40c5d7`


**Tools — Hemanth/Nikhila**

1. Get business units  
    1. Get the business unit by name(s)
2. Get Partners  
    1. Get a partner by name
    2. Get partners by name
3. Get partner accounts
    1. Get partner account by name(s)
    2. Get partner accounts by partnerId
    3. Get partner accounts by partnerName
4. Get onboarding requests  
    1. Requests ready for promotion
    2. Open onboarding requests
    3. NYL connects to partner count
    4. Partner connects to NYL 
5. Get users
    1. Get users for the business unit
    2. Get all IT Admins/Business users/Super admins
6. Get routes
    1. Get routes by partner name
    2. Get routes by partnerId
7. Get routing requests (Stretch goal)
    1. Open routing requests
8. Get partner Info (After 15th)
9. Get account routes and history (After 15th)

**Utils — Lokesh**

1. Util function —> Count records
2. Util function —> Get the collection ID from the name 
3. ST Location to be fetched from the dropdown 
    1. Update the /conversation endpoint to accept a location parameter
4. ENV variable changes (environment default to GenPop)
    1. Need to pre-fill all collection IDs (GBS, Gen-Pop, PC)

**Prompting**

1. Router Prompt enhancement — Lokesh
2. PC Agent prompt enhancement — Nikhila
    1. Agent changes — Pavan Sandeep
        1. Tool calling and execution
3. Summarization agent (Stretch Goal) — Lokesh


##### Tasks 
- [x]  Router Prompt enhancement 
- [x]  Util function —> Count records
- [x] Util function —> Get the collection ID from the name 
- [x] ST Location to be fetched from the dropdown - Update the /conversation endpoint to accept a location parameter
- [x] ENV variable changes (environment default to GenPop)
- [x]  Need to pre-fill all collection IDs (GBS, Gen-Pop, PC